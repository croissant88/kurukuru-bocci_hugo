<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <style>
      .bi-clipboard {
        display: none;
      }
      tr:hover .bi-clipboard {
        display: inline;
      }
    </style>
    <title>Encryption Generator</title>
  </head>
  <body>
    <section class="container" id="app">
      <section>
        <nav class="navbar bg-body-tertiary mb-3">
          <div class="container-fluid">
            <span class="navbar-brand mb-0 h1"
              ><i class="bi bi-robot me-1"></i>Encryption Generator</span
            >
          </div>
        </nav>
        <section class="mb-3">
          <h2 class="h5 d-flex justify-content-between">
            Message
            <i
              class="bi bi-trash small text-danger"
              @click="message=''"
              v-if="message.length"
            ></i>
          </h2>
          <textarea
            v-model="message"
            class="form-control"
            aria-label="message"
            rows="4"
            placeholder="Write here"
          ></textarea>
        </section>
        <section class="mb-3" v-if="message.length">
          <h2 class="h5">Reuslts</h2>

          <!-- ボタン -->
          <div class="mb-3">
            <div
              class="btn-group"
              role="group"
              aria-label="Basic radio toggle button group"
            >
              <input
                type="radio"
                class="btn-check"
                name="positive"
                id="inlineRadio1"
                value="1"
                v-model="positive"
                autocomplete="off"
                checked
              />
              <label class="btn btn-outline-dark" for="inlineRadio1"
                >Encrypt</label
              >

              <input
                type="radio"
                class="btn-check"
                name="inlineRadioOptions"
                id="inlineRadio2"
                value="-1"
                v-model="positive"
                autocomplete="off"
              />
              <label class="btn btn-outline-dark" for="inlineRadio2"
                >Decrypt</label
              >
            </div>
            <!-- ボタンここまで -->
          </div>
          <!-- アラート -->
          <div
            class="alert alert-primary"
            role="alert"
            v-if="english_message && positive == -1"
          >
            {{english_message}}
          </div>
          <!-- アラートここまで -->

          <table class="table table-bordered">
            <thead>
              <tr>
                <th style="width: 5%">Shift</th>
                <th style="width: 95%">Reuslt</th>
              </tr>
            </thead>
            <tbody>
              <tr
                v-for="(message, i) in shifted_messages"
                :key="i"
                :class="{'table-primary': hasEnglish(message) && positive == -1}"
              >
                <td class="text-end">{{(i+1) * positive}}</td>
                <td>
                  {{message}}
                  <i
                    class="bi bi-clipboard ms-1 text-primary"
                    @click="copyToClipboard(message)"
                  ></i>
                </td>
              </tr>
            </tbody>
          </table>
        </section>
      </section>
    </section>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="codec.js"></script>
  </body>
</html>
